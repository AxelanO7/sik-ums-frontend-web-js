<app-layout>
  <main class="p-4 md:p-6 lg:p-8">
    <div
      class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-4"
    >
      <h1 class="text-2xl md:text-3xl font-bold text-gray-800">PENGELUARAN</h1>
      <button
        (click)="handleAddItem()"
        class="bg-red-600 text-white px-4 py-2 rounded-lg shadow hover:bg-red-700 transition duration-300 flex items-center gap-2"
      >
        <mat-icon fontIcon="add_circle" />
        <span>Tambah Pengeluaran</span>
      </button>
    </div>

    <div class="overflow-x-auto bg-white rounded-lg shadow">
      <table class="w-full text-sm text-left text-gray-600">
        <thead class="text-xs text-gray-700 uppercase bg-gray-100">
          <tr>
            <th
              *ngFor="let header of tableHeaders"
              scope="col"
              class="px-6 py-3"
            >
              {{ header }}
            </th>
            <th scope="col" class="px-6 py-3 text-center">Aksi</th>
          </tr>
        </thead>
        <tbody>
          <tr
            *ngFor="let row of tableData"
            class="bg-white border-b hover:bg-gray-50"
          >
            <td class="px-6 py-4">{{ row.date | date : "dd/MM/yyyy" }}</td>
            <td class="px-6 py-4 font-medium text-gray-900">{{ row.name }}</td>
            <td class="px-6 py-4">
              {{ row.price | currency : "Rp " : "symbol" : "1.0-0" }}
            </td>
            <td class="px-6 py-4">{{ row.quantity | number }}</td>
            <td class="px-6 py-4 font-bold">
              {{ row.total | currency : "Rp " : "symbol" : "1.0-0" }}
            </td>
            <td class="px-6 py-4 text-center whitespace-nowrap">
              <button
                (click)="handleEditItem(row)"
                class="text-blue-600 hover:text-blue-900 mr-4 font-medium"
              >
                Edit
              </button>
              <button
                (click)="handleDeleteItem(row.id)"
                class="text-red-600 hover:text-red-900 font-medium"
              >
                Hapus
              </button>
            </td>
          </tr>
        </tbody>
        <tfoot>
          <tr class="font-semibold text-gray-900 bg-gray-100">
            <td colSpan="4" class="px-6 py-3 text-base text-right">TOTAL</td>
            <td class="px-6 py-3 text-base">
              {{ totalOutcome | currency : "Rp " : "symbol" : "1.0-0" }}
            </td>
            <td></td>
          </tr>
        </tfoot>
      </table>
    </div>
  </main>
</app-layout>
